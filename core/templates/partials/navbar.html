{% load static %}
<link rel="stylesheet" href="{% static 'css/styles.css' %}">

<nav class="navbar navbar-expand-lg border-bottom" style="background-color: #5a7a73;">
  <div class="container-fluid px-4">
    
    <!-- Logo -->
    <a class="navbar-brand text-white d-flex align-items-center" href="{% url 'home' %}">
      <img src="{% static 'images/logo.png' %}" alt="Law Office of Lydia A. Suprun" style="width: 100px; height: 100px;" class="me-3">
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav"><span class="navbar-toggler-icon"></span></button>
    
    <!-- Navbar links -->
    <div class="collapse navbar-collapse" id="nav">
      <ul class="navbar-nav mx-auto" style="background-color: rgba(255, 255,255, 0.15); border-radius: 50px; padding: 0.5rem 1.5rem;">
        <li class="nav-item">
          <a class="nav-link px-4 py-2 rounded-pill {% if request.resolver_match.url_name == 'practice_areas' %}bg-white{% else %}text-white{% endif %}"
            href="{% url 'practice_areas' %}" style="font-weight: 500;">Practice Areas
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-4 py-2 rounded-pill {% if request.resolver_match.url_name == 'about' %}bg-white{% else %}text-white{% endif %}"
            href="{% url 'about' %}" style="font-weight: 500;">About
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-4 py-2 rounded-pill {% if request.resolver_match.url_name == 'contact' %}bg-white{% else %}text-white{% endif %}" 
            href="{% url 'contact' %}" style="font-weight: 500;">Contact
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-4 py-2 rounded-pill {% if request.resolver_match.url_name == 'privacy' %}bg-white{% else %}text-white{% endif %}"
            href="{% url 'privacy' %}">Privacy Policy
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-4 py-2 rounded-pill {% if request.resolver_match.url_name == 'payment' %}bg-white{% else %}text-white{% endif %}"
            href="{% url 'payment' %}">Payment
          </a>
        </li>
      </ul>

      <!-- Login Button -->
      <div class="d-flex ms-3">
        {% if user.is_authenticated %}
        <!-- Logout form: uses POST for security -->
          <form method="post" action="{% url 'logout' %}" class="m-0">
            {% csrf_token %}
            <button type="submit" 
                    class="btn btn-danger px-4 py-2 rounded-pill"
                    style="background-color: #2d7a73; border: none;">
              Logout
            </button>
          </form>
        {% else %}
        <!-- Login link if not logged in -->
        <a class="btn btn-custom px-4 py-2 rounded-pill" href="{% url 'login' %}">Login</a> {% endif %}
      </div>
    </div>
  </div>
</nav>
